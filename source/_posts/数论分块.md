---
title: æ•°è®ºåˆ†å—
date: 2022-02-21 15:13:38
tags: 
   - æ•°è®º
   - åˆ†å—
---

# æ•°è®ºåˆ†å—
å¯¹äºä¸€ç±»å«æœ‰$\lfloor \frac{ğ‘›}{i} \rfloor$çš„æ±‚å’Œå¼ (ğ‘› ä¸ºå¸¸æ•°)ï¼Œç”±äº$\lfloor \frac{ğ‘›}{i} \rfloor$å•è°ƒä¸å¢ï¼Œæ•…å­˜åœ¨å¤šä¸ªåŒºé—´[ğ‘™,ğ‘Ÿ], ä½¿å¾—$\lfloor \frac{ğ‘›}{i} \rfloor$=$\lfloor \frac{ğ‘›}{j} \rfloor$  (ğ‘–,ğ‘—âˆˆ[ğ‘™,ğ‘Ÿ]) æˆç«‹ã€‚

å¯¹äºä»»æ„ä¸€ä¸ªğ‘–ï¼Œæœ€å¤§çš„æ»¡è¶³ä¸Šå¼çš„ ğ‘—=$\lfloor {\frac{n}{\lfloor \frac{ğ‘›}{i} \rfloor} }\rfloor$



<!-- more -->





# è¯æ˜
$\lfloor \frac{ğ‘›}{i} \rfloor \leqslant\frac{ğ‘›}{i}$
$\Rightarrow \lfloor {\frac{n}{\lfloor \frac{ğ‘›}{i} \rfloor} }\rfloor \geqslant \lfloor {\frac{n}{ \frac{ğ‘›}{i} } }\rfloor =\lfloor i \rfloor=i$
$\Rightarrow i \leqslant \lfloor {\frac{n}{\lfloor \frac{ğ‘›}{i} \rfloor} } \rfloor
$ 

å³$j= \lfloor {\frac{n}{\lfloor \frac{ğ‘›}{i} \rfloor} }\rfloor$







# ä¾‹é¢˜
### ç»å…¸é¢˜[ P1403 [AHOI2005]çº¦æ•°ç ”ç©¶](https://www.luogu.com.cn/problem/P1403 " P1403 [AHOI2005]çº¦æ•°ç ”ç©¶")
é¢˜æ„ï¼š
$f(x)$è¡¨ç¤ºxçš„çº¦æ•°ä¸ªæ•°ï¼Œæ±‚$\sum_{i=1}^nf(i)$
æ€è·¯ï¼š
å¯¹äº$i$,åœ¨$1ï½n$ä¸­ï¼Œä»–çš„å€æ•°æœ‰$\lfloor \frac{ğ‘›}{i} \rfloor$ä¸ªï¼Œå› æ­¤$1ï½n$ä¸­å…±æœ‰ä¸ªä»¥$i$ä¸ºçº¦æ•°çš„æ•°ã€‚
å› æ­¤$\sum_{i=1}^nf(i)=\sum_{i=1}^n\lfloor \frac{ğ‘›}{i} \rfloor$

ç°åœ¨è€ƒè™‘æ•°è®ºåˆ†å—
å¯¹äºæ¯ä¸€ä¸ªlâˆˆ[1,n],å­˜åœ¨åŒºé—´[l,r],$r=\lfloor {\frac{n}{\lfloor \frac{ğ‘›}{i} \rfloor} }\rfloor$
ä½¿å¾—$\lfloor \frac{ğ‘›}{i} \rfloor$=$\lfloor \frac{ğ‘›}{j} \rfloor$
åŒºé—´è´¡çŒ®$(r-l+1)\times \lfloor \frac{ğ‘›}{i} \rfloor$.
$O(2\sqrt n)$





```c++
int n;
signed main()
{
    n=rd;
    int ans=0;
    for(int i=1,j=1;i<=n;i=j+1)
    {
        j=n/(n/i);
        ans+=(j-i+1)*(n/i);
    }
    printf("%lld\n",ans);
    return 0;
}

```










### [[CQOI2007]ä½™æ•°æ±‚å’Œ](https://www.luogu.com.cn/problem/P2261 "[CQOI2007]ä½™æ•°æ±‚å’Œ")

æ€è·¯ï¼š
$$
\sum_{i=1}^{n} k\ mod  \quad i=\sum_{i=1}^{n} (k-\lfloor \frac{k}{i} \rfloor \times i)
$$

```c++
int k,n;
signed main()
{
    n=rd,k=rd;
    int ans=n*k;
    for(int i=1,j=1;i<=n;i=j+1)
    {
        if(k/i==0) break;
        j=min(n,k/(k/i));
        ans-=(k/i)*(j+i)*(j-i+1)/2;
    }
    printf("%lld\n",ans);
    return 0;
}
```










### [P2424 çº¦æ•°å’Œ](https://www.luogu.com.cn/problem/P2424 "P2424 çº¦æ•°å’Œ")

```c++
int x,y;
int f(int a)
{
    int ans=0;
    for(int i=1,j=1;i<=a;i=j+1)
    {
        j=a/(a/i);
        ans+=(a/i)*(i+j)*(j-i+1)/2;
    }
    return ans;
}
signed main()
{
    x=rd,y=rd;
    printf("%lld\n",f(y)-f(x-1));
    return 0;
}
```
